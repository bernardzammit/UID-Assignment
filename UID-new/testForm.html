
<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	
	 <!-- Bootstrap Core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="css/modern-business.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="font-awesome-4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    
    <!-- Extra CSS -->
    <link href="css/extracss.css" rel="stylesheet">
	
	
	
	<title>Showing All Error Messages</title>

	<style>
		body {
			padding-top: 15px;
		}
		div {
			width: 400px;
		}
		label {
			display: inline-block;
			width: 100px;
			text-align: right; 
			margin-bottom: 10px;
			margin-right: 3px;
		}
		input[type=text], textarea {
			width: 200px;
		}
		label[for=comments] {
			margin-bottom: 0;
		}
		textarea { 
			height: 30px;
			vertical-align: middle;
		}
		.buttons {
			padding-top: 10px;
			text-align: center;
		}

		.errorMessages {
			display: none;
			list-style-type: disc;
			margin: 0 10px 15px 10px;
			padding: 8px 35px 8px 30px;
			color: #B94A48;
			background-color: #F2DEDE;
			border: 2px solid #EED3D7;
			border-radius: 4px;
			text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);
		}
		.errorMessages span {
			font-weight: bold;
		}
	</style>
	
	<script>
			function showAlert()
		{
			alert('show message');
			var y = document.getElementById("successAlert");
			y.innerHTML = ' 	<div class="alert alert-dismissable alert-success"> \
									<button type="button" class="close" data-dismiss="alert">×</button> \
									<strong>Well done!</strong> You successfully edited and saved your new personal details. \
								</div> \ ' ;
		}
	
	
	</script>
	
	
</head>
<body>

<div class="form-group" id="successAlert"></div>

<form>
	<ul class="errorMessages"></ul>
	
	<div>
		<label for="name">Name:</label>
		<input id="name" type="text" required>
	</div>

	<div>
		<label for="comments">Comments:</label>
		<textarea id="comments" required></textarea>
	</div>
	
	<div class="buttons">
		<button>Submit</button>
	</div>
</form>​

<script src="js/jquery.js"></script>
<script>
	var createAllErrors = function() {
		var form = $( this ),
			errorList = $( "ul.errorMessages", form ),
			hasErrors = 0;

		var showAllErrorMessages = function() {
			errorList.empty();

			// Find all invalid fields within the form.
			var invalidFields = form.find( ":invalid" ).each( function( index, node ) {
			
				// Find the field's corresponding label
				var label = $( "label[for=" + node.id + "] "),
					// Opera incorrectly does not fill the validationMessage property.
					message = node.validationMessage || 'Invalid value.';
				
				errorList.show();
				errorList.append( "<li><span>" + label.html() + "</span> " + message + "</li>" );
				hasErrors = hasErrors + 1;
				
			});
			
			if (hasErrors == 0) {
			alert('show message');
			var y = document.getElementById("successAlert");
			y.innerHTML = ' 	<div class="alert alert-dismissable alert-success"> \
									<button type="button" class="close" data-dismiss="alert">×</button> \
									<strong>Well done!</strong> You successfully edited and saved your new personal details. \
								</div> \ ' ;
			}
			 
			
		};

		// Support Safari
		form.on( "submit", function( event ) {
			if ( this.checkValidity && !this.checkValidity() ) {
				$( this ).find( ":invalid" ).first().focus();
				event.preventDefault();
			}
		});

		$( "input[type=submit], button:not([type=button])", form )
			.on( "click", showAllErrorMessages);

		$( "input", form ).on( "keypress", function( event ) {
			var type = $( this ).attr( "type" );
			if ( /date|email|month|number|search|tel|text|time|url|week/.test ( type )
			  && event.keyCode == 13 ) {
				showAllErrorMessages();
			}
		});
	};
	
	$( "form" ).each( createAllErrors );
</script>

</body>
</html>